---
import type { GetStaticPaths } from "astro";

import Layout from "../../layouts/Layout.astro";
import Quote from "../../components/Quote.svelte";
import quotes from "../_quotes.json";

export const getStaticPaths = (async () => {
    return quotes.map(({ id }) => ({
        params: {
            quoteId: id.toString(),
        },
    }));
}) satisfies GetStaticPaths;

const { quoteId: rawQuoteId } = Astro.params;
const quoteId = parseInt(rawQuoteId, 10);
const quoteData = quotes.find((quote) => quote.id === quoteId)!;
---

<Layout title={`Quote #${quoteId} (${quoteData.score})`}>
    <Quote data={quoteData} />
</Layout>
