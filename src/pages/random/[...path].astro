---
import type { GetStaticPaths } from "astro";
import Layout from "../../layouts/Layout.astro";

export const getStaticPaths = (async () => {
    return [{ params: { path: undefined } }, { params: { path: "positive" } }];
}) satisfies GetStaticPaths;

interface Props {
    path: "positive" | undefined;
}

const { path } = Astro.params;

import quotes from "../_quotes.json";
import RandomQuoteListLoader from "../../components/RandomQuoteListLoader.svelte";
const positiveQuotes = quotes.filter(({ score }) => score > 0);

const allIds = quotes.map(({ id }) => id);
const positiveIds = positiveQuotes.map(({ id }) => id);
---

<Layout>
    <RandomQuoteListLoader
        ids={path === "positive" ? positiveIds : allIds}
        client:only
    />
</Layout>
